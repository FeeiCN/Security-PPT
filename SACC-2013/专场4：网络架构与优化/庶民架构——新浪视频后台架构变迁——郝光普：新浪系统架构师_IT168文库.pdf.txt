SACC2013

---- @
guangpu@staff.sina.com.cn http://weibo.com/27282930

SACC2013
--
 ""  13    FFMPEGNGINXVARNISH...  10


SACC2013




SACC2013

 CDN    

SACC2013
CDN

SACC2013
CDN -- 

F5

F5

squid 1

squid 2

squid N

squid 1

squid 2

squid N

apaapcahceh+em+opdh_f ilesptore

apaapcahceh+em+pohd_f ilesptore

SACC2013
CDN -- :

VID%6SuperHot-Rand6

hot1 VIP

hot......VIP

hot6 VIP

1T 3*50G

squid 1 squid 2

90% squid 1 squid 2 squid hit 95%

VIP

squid 

Lighttpd 1

Lighttpd 2



SACC2013
CDN -- :

VIP

VIP


squid 1 squid 2 squid 1 squid 2
 


Lighttpd 

Lighttpd

Lighttpd

SACC2013
CDN -- 

SQUID 1

SQUID...

SQUID N

IO 



  SQUID v_play




 SQUID 

SACC2013
CDN -- 

haproxy port 80

server1 2011.08 DELL R510

S S S S S S S S 2*E5620

QQQQ UUUU

Q U

Q U

Q U

Q U

8*4G 1066DDR3

I D

II DD

I D

I D

I D

I D

I D

12*300G 15K SAS

4BOND 1 2 3 4 5 6 7 8 8 squid,3.5G

900Mbps

VIP

:2.9Gbps

IOWAIT 15%

Lighttpd 1

Lighttpd 2

SACC2013


SACC2013
 -- FMS

FMS VIP1 Origin Active

FMS Origin BAK

VIP2 Active

FMS Edge Vhost1 VFhMosSt2 Edge Vhost1 Vhost2

FMS User

Haproxy port 1935

Haproxy port 1935

FME etc.

SACC2013
 -- 

RTMP

/





CDN
port1 nginx port2 flvstream port3 iOS m3u8 port4  port5 TS

PC iOS

SACC2013
 -- OVS

 RTMP TS UDP
SDI

Origin Video System
 PC iOS

 varnish
 
CDN

SACC2013
OVS CDN



(vCaDrnNish)IPIP

 varnish

iOS

CDN

SACC2013


SACC2013


dxx





file



d0

dhot 



SACC2013








Red Hat GFS

Data  MetaData 

Google GFS Data

MooseFS MetaData

HDFS



1MetaData   2  3IDC

SACC2013
SSP
SINA Slice Pool

SSP

SACC2013

           ""

SACC2013
SSP
   
   

SACC2013
SSP
 DEMO        

SACC2013

         

SACC2013

     
 guangpu@staff.sina.com.cn  bestgp@gmail.com  @

Thanks!

SACC2013

